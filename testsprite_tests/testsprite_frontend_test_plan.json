[
  {
    "id": "TC001",
    "title": "Real-time stock cutting from chat order commands",
    "description": "Verify that when chat messages containing valid order commands (e.g., CF, pure numbers) are received, the stock of corresponding items is updated atomically and within 1 second.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Start live session and connect host device to YouTube Live Chat API"
      },
      {
        "type": "action",
        "description": "Send chat message with a valid single item order command (e.g., 'CF 12')"
      },
      {
        "type": "assertion",
        "description": "Check stock value for item 12 decreases by one within 1 second"
      },
      {
        "type": "action",
        "description": "Send chat message with a multi-buy order command (e.g., '26 38 74')"
      },
      {
        "type": "assertion",
        "description": "Verify stock values for items 26, 38, and 74 each decrease accordingly within 1 second"
      },
      {
        "type": "action",
        "description": "Send chat message with admin proxy manual booking command"
      },
      {
        "type": "assertion",
        "description": "Check stock updated as expected and queue system reflects the manual booking"
      }
    ]
  },
  {
    "id": "TC002",
    "title": "Multi-device synchronization latency",
    "description": "Ensure data synchronization latency remains under 100 milliseconds across multiple connected admin and observer client devices for stock, chat messages, and system status updates.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Connect host and at least two observer client devices to the same videoId session"
      },
      {
        "type": "action",
        "description": "Trigger an order via chat message or admin proxy on host device"
      },
      {
        "type": "assertion",
        "description": "Verify all observer devices update stock and chat state with less than 100ms latency"
      },
      {
        "type": "action",
        "description": "Cancel an order on one client device"
      },
      {
        "type": "assertion",
        "description": "Check host and other clients reflect the cancellation instantly within 100ms"
      }
    ]
  },
  {
    "id": "TC003",
    "title": "Text-to-Speech functionality with Google Cloud TTS and fallback to Native TTS",
    "description": "Validate that TTS audio starts playing within 3 seconds when online using Google Cloud TTS, and automatically falls back to Native TTS if Google TTS API exceeds timeout or quota.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Trigger an order processing that requires TTS announcement with Google Cloud TTS available"
      },
      {
        "type": "assertion",
        "description": "Audio playback starts within 3 seconds using Google Cloud TTS"
      },
      {
        "type": "action",
        "description": "Simulate Google Cloud TTS API quota exceeded or timeout error"
      },
      {
        "type": "assertion",
        "description": "System automatically switches to Native TTS and audio plays immediately"
      }
    ]
  },
  {
    "id": "TC004",
    "title": "iPad/iOS audio unlock mechanism",
    "description": "Confirm that the silent audio unlock technique on iPad/iOS devices enables sound playback after the first user interaction without errors or user disruption.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Open the application on an iPad or iOS device"
      },
      {
        "type": "action",
        "description": "Perform first user interaction (e.g., tap anywhere on the screen)"
      },
      {
        "type": "action",
        "description": "Trigger any audio playback (TTS or sound effect)"
      },
      {
        "type": "assertion",
        "description": "Verify that audio plays without errors and with expected quality"
      }
    ]
  },
  {
    "id": "TC005",
    "title": "Queue system promotion on order cancellation",
    "description": "Ensure that when an order is cancelled, the queue system instantly promotes next waiting orders without duplication or inconsistencies in stock reservation.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Place multiple orders leading to queue formation for a popular item"
      },
      {
        "type": "action",
        "description": "Cancel an order at the front of the queue"
      },
      {
        "type": "assertion",
        "description": "Verify queue updates instantly with next order promoted and stock reflects these changes"
      },
      {
        "type": "assertion",
        "description": "Ensure no duplicate queue entries exist for the same order"
      }
    ]
  },
  {
    "id": "TC006",
    "title": "Persistent chat and sales history with search and CSV export",
    "description": "Verify that chat messages and sales history persist across page reloads and sessions, support filtering and searching, and allow reliable CSV export.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Generate multiple chat messages with order commands across sessions"
      },
      {
        "type": "action",
        "description": "Reload application page"
      },
      {
        "type": "assertion",
        "description": "Verify chat and sales history is fully restored from Firebase"
      },
      {
        "type": "action",
        "description": "Use history modal's search and filter functionality with different criteria"
      },
      {
        "type": "assertion",
        "description": "Confirm results accurately reflect filters"
      },
      {
        "type": "action",
        "description": "Perform CSV export of filtered and unfiltered data"
      },
      {
        "type": "assertion",
        "description": "Check exported file integrity and correct content"
      }
    ]
  },
  {
    "id": "TC007",
    "title": "Smart spam filtering and invalid message handling",
    "description": "Confirm that spam and irrelevant messages are filtered out and do not trigger stock changes or TTS announcements.",
    "category": "error handling",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Send chat messages identified as spam or irrelevant by filtering logic"
      },
      {
        "type": "assertion",
        "description": "Check that no stock transaction or queue update occurs"
      },
      {
        "type": "assertion",
        "description": "Verify no TTS or error sound effects are played"
      }
    ]
  },
  {
    "id": "TC008",
    "title": "System behavior during YouTube API polling interval delays",
    "description": "Ensure the application properly handles YouTube Data API polling intervals of 60 seconds or more without causing quota exhaustion or missed data loss.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Set YouTube API polling interval to 60 seconds"
      },
      {
        "type": "action",
        "description": "Monitor chat message reception and synchronization during polling intervals"
      },
      {
        "type": "assertion",
        "description": "Verify no API quota errors occur and chat messages are accurately processed after each poll"
      }
    ]
  },
  {
    "id": "TC009",
    "title": "Offline caching and pull-to-refresh functionality in PWA mode",
    "description": "Validate that the application supports offline caching enabling usage without network connectivity and that pull-to-refresh triggers a correct data synchronization.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Launch the PWA and cache necessary data"
      },
      {
        "type": "action",
        "description": "Go offline and restart the app"
      },
      {
        "type": "assertion",
        "description": "Confirm the app is functional with cached data and no crashes"
      },
      {
        "type": "action",
        "description": "Go back online and perform pull-to-refresh gesture"
      },
      {
        "type": "assertion",
        "description": "Verify latest data is fetched and UI updates accordingly"
      }
    ]
  },
  {
    "id": "TC010",
    "title": "Away mode toggle and auto-response messages functionality",
    "description": "Check that toggling away mode activates auto-response messages with correct timer and random Thai message selection.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Enable away mode via UI toggle"
      },
      {
        "type": "assertion",
        "description": "Verify auto-responses are sent periodically with varied Thai messages"
      },
      {
        "type": "action",
        "description": "Disable away mode"
      },
      {
        "type": "assertion",
        "description": "Confirm auto-responses stop immediately"
      }
    ]
  },
  {
    "id": "TC011",
    "title": "Stock grid interface color-coding and manual admin proxy commands",
    "description": "Verify that the stock grid visually reflects correct color codes (green, red) for available, reserved and sold-out stock and that manual bookings or cancellations via admin commands update the stock grid accordingly.",
    "category": "ui",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Set stock for items to various levels: available, reserved, sold-out"
      },
      {
        "type": "assertion",
        "description": "Confirm corresponding color codes appear correctly on stock grid"
      },
      {
        "type": "action",
        "description": "Use admin proxy commands to manually book and cancel stock"
      },
      {
        "type": "assertion",
        "description": "Verify stock grid updates colors and values to reflect actions"
      }
    ]
  },
  {
    "id": "TC012",
    "title": "Sound effects playback on order success and error states",
    "description": "Ensure that appropriate success (Ka-Ching!) and error (Buzzer) sound effects play with low latency and reflect the correct system states during order processing.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Trigger successful order processing"
      },
      {
        "type": "assertion",
        "description": "Success sound effect plays immediately after order is confirmed"
      },
      {
        "type": "action",
        "description": "Attempt an order when stock is sold out"
      },
      {
        "type": "assertion",
        "description": "Error sound effect plays to indicate sold out or failure"
      }
    ]
  },
  {
    "id": "TC013",
    "title": "Firebase data persistence across page reloads",
    "description": "Validate that all stock, chat, nickname, and system state data stored in Firebase persists and synchronizes correctly after page reloads for both host and client devices.",
    "category": "functional",
    "priority": "High",
    "steps": [
      {
        "type": "action",
        "description": "Populate system with chat messages, nicknames, stock reservations"
      },
      {
        "type": "action",
        "description": "Reload page on host and client devices"
      },
      {
        "type": "assertion",
        "description": "Verify that all data is synchronized and consistent post reload"
      }
    ]
  },
  {
    "id": "TC014",
    "title": "TTS queue system to prevent audio overlap",
    "description": "Confirm that multiple TTS announcements triggered in rapid succession are queued and played sequentially without overlapping or cutting off each other.",
    "category": "functional",
    "priority": "Medium",
    "steps": [
      {
        "type": "action",
        "description": "Trigger multiple order notifications in less than 1 second"
      },
      {
        "type": "assertion",
        "description": "Verify TTS audio announcements queue and play one after another"
      },
      {
        "type": "assertion",
        "description": "Ensure no audio overlap or loss occurs"
      }
    ]
  },
  {
    "id": "TC015",
    "title": "Custom nickname system synchronization",
    "description": "Verify that nickname changes are persisted in Firebase per user and synchronized across all connected devices accurately.",
    "category": "functional",
    "priority": "Low",
    "steps": [
      {
        "type": "action",
        "description": "Change nickname on one client device"
      },
      {
        "type": "assertion",
        "description": "Verify the updated nickname is saved in Firebase"
      },
      {
        "type": "assertion",
        "description": "Check all other client devices display the updated nickname correctly"
      }
    ]
  }
]
